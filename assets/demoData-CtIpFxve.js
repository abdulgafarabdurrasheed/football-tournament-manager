import{s as y,N as _,q as c,v as R,r as h}from"./index-c-3o_op9.js";function b(s,n){const t=y.channel(`tournament:${s}`);return t.on("postgres_changes",{event:"*",schema:"public",table:"tournaments",filter:`id=eq.${s}`},o=>{console.log("Tournament update:",o),_.invalidateQueries({queryKey:c.tournaments.detail(s)}),n?.onTournamentUpdate?.()}),t.on("postgres_changes",{event:"*",schema:"public",table:"matches",filter:`tournament_id=eq.${s}`},o=>{console.log("Match update:",o),_.invalidateQueries({queryKey:c.matches.list(s)}),o.new&&o.new.status==="COMPLETED"&&_.invalidateQueries({queryKey:c.playerStats.tournament(s)}),n?.onMatchUpdate?.()}),t.on("postgres_changes",{event:"*",schema:"public",table:"tournament_managers",filter:`tournament_id=eq.${s}`},o=>{console.log("Manager update:",o),_.invalidateQueries({queryKey:c.managers.list(s)}),n?.onManagerUpdate?.()}),t}function E(s,n){const t=b(s,n);return t.subscribe(o=>{o==="SUBSCRIBED"&&console.log(`Subscribed to tournament ${s}`),o==="CHANNEL_ERROR"&&console.error(`Failed to subscribe to tournament ${s}`)}),()=>{y.removeChannel(t)}}function L(s,n){const t=y.channel("tournament-list").on("postgres_changes",{event:"*",schema:"public",table:"tournaments"},()=>{_.invalidateQueries({queryKey:c.tournaments.lists()})}).on("postgres_changes",{event:"*",schema:"public",table:"tournament_managers",filter:`user_id=eq.${s}`},()=>{_.invalidateQueries({queryKey:c.tournaments.lists()})}).subscribe();return()=>{y.removeChannel(t)}}function S(s,n){const t=h.useRef(null);h.useEffect(()=>{if(s)return t.current=E(s,n),()=>{t.current&&(t.current(),t.current=null)}},[s,n?.onMatchUpdate,n?.onManagerUpdate,n?.onTournamentUpdate])}function A(s){const n=R(),t=h.useRef(null);h.useEffect(()=>{if(n?.id)return t.current=L(n.id),()=>{t.current&&(t.current(),t.current=null)}},[n?.id,s])}function P(s){S(s,{onMatchUpdate:()=>{console.log("Match updated via realtime")},onManagerUpdate:()=>{console.log("Manager updated via realtime")},onTournamentUpdate:()=>{console.log("Tournament updated via realtime")}})}const d="demo-premier-league-2026",W="demo-user-000",a={arsenal:"demo-mgr-arsenal",city:"demo-mgr-city",liverpool:"demo-mgr-liverpool",chelsea:"demo-mgr-chelsea"},e={r1m1:"demo-match-r1m1",r1m2:"demo-match-r1m2",r2m1:"demo-match-r2m1",r2m2:"demo-match-r2m2",r3m1:"demo-match-r3m1",r3m2:"demo-match-r3m2",r4m1:"demo-match-r4m1",r4m2:"demo-match-r4m2",r5m1:"demo-match-r5m1",r5m2:"demo-match-r5m2",r6m1:"demo-match-r6m1",r6m2:"demo-match-r6m2"},r=new Date().toISOString(),l=s=>new Date(Date.now()-s*864e5).toISOString();function g(s,n,t,o,p,u,m){return{played:s,won:n,drawn:t,lost:o,goalsFor:p,goalsAgainst:u,points:n*3+t,form:m}}const C={pointsForWin:3,pointsForDraw:1,pointsForLoss:0,legsPerMatch:1,groupSize:4,teamsAdvancing:2,hasThirdPlace:!1,tiebreakers:["goalDifference","goalsScored","headToHead"]},U={id:d,name:"Demo Premier League 2026",description:"A simulated Premier League season to show you around. This data is not real — relax.",format:"LEAGUE",status:"IN_PROGRESS",visibility:"PUBLIC",creator_id:W,settings:C,max_participants:8,current_round:6,start_date:l(30),end_date:null,created_at:l(35),updated_at:r},T=[{id:a.arsenal,tournament_id:d,user_id:"demo-user-arsenal",team_name:"Arsenal",group_number:null,seed:1,role:"OWNER",stats:g(6,3,1,2,9,9,["W","L","W","W","D","L"]),gameplan_id:null,status:"ACTIVE",joined_at:l(34)},{id:a.city,tournament_id:d,user_id:"demo-user-city",team_name:"Man City",group_number:null,seed:2,role:"PLAYER",stats:g(6,3,2,1,11,7,["D","W","W","L","D","W"]),gameplan_id:null,status:"ACTIVE",joined_at:l(33)},{id:a.liverpool,tournament_id:d,user_id:"demo-user-liverpool",team_name:"Liverpool",group_number:null,seed:3,role:"PLAYER",stats:g(6,3,1,2,11,5,["D","W","L","W","L","W"]),gameplan_id:null,status:"ACTIVE",joined_at:l(33)},{id:a.chelsea,tournament_id:d,user_id:"demo-user-chelsea",team_name:"Chelsea",group_number:null,seed:4,role:"PLAYER",stats:g(6,1,0,5,5,15,["L","L","L","L","W","L"]),gameplan_id:null,status:"ACTIVE",joined_at:l(32)}];function i(s,n,t,o,p,u,m){const v=T.find(w=>w.id===t),M=T.find(w=>w.id===o),f=p>u?t:u>p?o:null;return{id:s,tournament_id:d,home_manager_id:t,away_manager_id:o,match_type:"GROUP",round:n,leg:1,group_number:null,bracket_position:null,knockout_round:null,home_score:p,away_score:u,home_aggregate:null,away_aggregate:null,home_extra_time:null,away_extra_time:null,home_penalties:null,away_penalties:null,decided_by:"NORMAL",status:"COMPLETED",winner_id:f,scheduled_at:l(m+1),played_at:l(m),created_at:l(m+2),updated_at:l(m),home_manager:{...v,profile:{display_name:v.team_name,avatar_url:null}},away_manager:{...M,profile:{display_name:M.team_name,avatar_url:null}},player_stats:[]}}const O=[i(e.r1m1,1,a.arsenal,a.chelsea,3,1,25),i(e.r1m2,1,a.liverpool,a.city,1,1,25),i(e.r2m1,2,a.city,a.arsenal,2,0,20),i(e.r2m2,2,a.chelsea,a.liverpool,0,2,20),i(e.r3m1,3,a.arsenal,a.liverpool,2,1,15),i(e.r3m2,3,a.city,a.chelsea,4,1,15),i(e.r4m1,4,a.chelsea,a.arsenal,1,2,10),i(e.r4m2,4,a.liverpool,a.city,3,0,10),i(e.r5m1,5,a.arsenal,a.city,1,1,5),i(e.r5m2,5,a.chelsea,a.liverpool,2,1,5),i(e.r6m1,6,a.liverpool,a.chelsea,3,0,1),i(e.r6m2,6,a.city,a.arsenal,3,1,1)],N=[{id:"demo-ps-1",match_id:e.r1m1,manager_id:a.arsenal,player_name:"Bukayo Saka",player_position:"RW",goals:2,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:9,created_at:r},{id:"demo-ps-2",match_id:e.r1m1,manager_id:a.arsenal,player_name:"Martin Ødegaard",player_position:"CAM",goals:1,assists:2,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8.5,created_at:r},{id:"demo-ps-3",match_id:e.r3m1,manager_id:a.arsenal,player_name:"Bukayo Saka",player_position:"RW",goals:1,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8,created_at:r},{id:"demo-ps-4",match_id:e.r4m1,manager_id:a.arsenal,player_name:"Kai Havertz",player_position:"CF",goals:2,assists:0,own_goals:0,yellow_cards:1,red_cards:0,minutes_played:90,rating:8.2,created_at:r},{id:"demo-ps-5",match_id:e.r5m1,manager_id:a.arsenal,player_name:"Martin Ødegaard",player_position:"CAM",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7.5,created_at:r},{id:"demo-ps-26",match_id:e.r6m2,manager_id:a.arsenal,player_name:"Bukayo Saka",player_position:"RW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7,created_at:r},{id:"demo-ps-6",match_id:e.r2m1,manager_id:a.city,player_name:"Erling Haaland",player_position:"ST",goals:2,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:9.2,created_at:r},{id:"demo-ps-7",match_id:e.r3m2,manager_id:a.city,player_name:"Erling Haaland",player_position:"ST",goals:2,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:9.5,created_at:r},{id:"demo-ps-8",match_id:e.r3m2,manager_id:a.city,player_name:"Phil Foden",player_position:"LW",goals:1,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8,created_at:r},{id:"demo-ps-9",match_id:e.r3m2,manager_id:a.city,player_name:"Kevin De Bruyne",player_position:"CM",goals:1,assists:2,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:85,rating:8.8,created_at:r},{id:"demo-ps-10",match_id:e.r1m2,manager_id:a.city,player_name:"Erling Haaland",player_position:"ST",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7.5,created_at:r},{id:"demo-ps-11",match_id:e.r5m1,manager_id:a.city,player_name:"Phil Foden",player_position:"LW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7.2,created_at:r},{id:"demo-ps-27",match_id:e.r6m2,manager_id:a.city,player_name:"Erling Haaland",player_position:"ST",goals:2,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:9,created_at:r},{id:"demo-ps-28",match_id:e.r6m2,manager_id:a.city,player_name:"Kevin De Bruyne",player_position:"CM",goals:1,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8,created_at:r},{id:"demo-ps-12",match_id:e.r1m2,manager_id:a.liverpool,player_name:"Mohamed Salah",player_position:"RW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7.8,created_at:r},{id:"demo-ps-13",match_id:e.r2m2,manager_id:a.liverpool,player_name:"Mohamed Salah",player_position:"RW",goals:1,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8.5,created_at:r},{id:"demo-ps-14",match_id:e.r2m2,manager_id:a.liverpool,player_name:"Diogo Jota",player_position:"LW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:75,rating:7.8,created_at:r},{id:"demo-ps-15",match_id:e.r3m1,manager_id:a.liverpool,player_name:"Mohamed Salah",player_position:"RW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7.5,created_at:r},{id:"demo-ps-16",match_id:e.r4m2,manager_id:a.liverpool,player_name:"Mohamed Salah",player_position:"RW",goals:2,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:9,created_at:r},{id:"demo-ps-17",match_id:e.r4m2,manager_id:a.liverpool,player_name:"Diogo Jota",player_position:"LW",goals:1,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8,created_at:r},{id:"demo-ps-18",match_id:e.r6m1,manager_id:a.liverpool,player_name:"Mohamed Salah",player_position:"RW",goals:1,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8.5,created_at:r},{id:"demo-ps-19",match_id:e.r6m1,manager_id:a.liverpool,player_name:"Diogo Jota",player_position:"LW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:80,rating:7.8,created_at:r},{id:"demo-ps-20",match_id:e.r6m1,manager_id:a.liverpool,player_name:"Darwin Núñez",player_position:"ST",goals:1,assists:1,own_goals:0,yellow_cards:1,red_cards:0,minutes_played:90,rating:7.5,created_at:r},{id:"demo-ps-21",match_id:e.r1m1,manager_id:a.chelsea,player_name:"Cole Palmer",player_position:"RW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7,created_at:r},{id:"demo-ps-22",match_id:e.r3m2,manager_id:a.chelsea,player_name:"Cole Palmer",player_position:"RW",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:6.5,created_at:r},{id:"demo-ps-23",match_id:e.r4m1,manager_id:a.chelsea,player_name:"Nicolas Jackson",player_position:"ST",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:6.8,created_at:r},{id:"demo-ps-24",match_id:e.r5m2,manager_id:a.chelsea,player_name:"Cole Palmer",player_position:"RW",goals:1,assists:1,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:8,created_at:r},{id:"demo-ps-25",match_id:e.r5m2,manager_id:a.chelsea,player_name:"Nicolas Jackson",player_position:"ST",goals:1,assists:0,own_goals:0,yellow_cards:0,red_cards:0,minutes_played:90,rating:7.5,created_at:r}],q=d;export{q as D,U as a,N as b,P as c,T as d,O as e,A as u};
